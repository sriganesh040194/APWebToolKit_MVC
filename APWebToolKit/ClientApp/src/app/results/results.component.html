<script src="node_modules/chart.js/Chart.min.js"></script>
<script src="node_modules/angular-chart.js/dist/angular-chart.min.js"></script>
<script type="text/javascript">
  
</script>
<div class="tab-pane fade in active">
  <h4 class="head text-center">{{title}}</h4>

  <!-- TODO: Remove during production -->
  <!--<h5>{{irradianceString}}</h5>-->

  <div class="splash-title" *ngIf="!showResults">
    <!--<img src="/loading-bars.svg" width="64" height="64" />-->
    <img src="/car_small.png" class="animated infinite slideInLeft" />
  </div>
  <br />

    
    <div class='row text-center'>
      <div class="row" *ngIf="showResults">
        <img src="logo_ampera park_circle_fb_170x170pix.png" style="height: 10%; width: 10%;" />
      </div>

      <div class='col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8'>
        <div *ngIf="showResults">


          <label>Here are some details about your grey car park.</label>
          <table class="table table-hover">

            <tbody>
              <tr>
                <th scope="col">Company Name <i class="fas fa-building"></i></th>
                <td>{{companyDetails.companyName}}</td>
              </tr>
              <tr>
                <th scope="col">Personal Name <i class="fas fa-user-alt"></i></th>
                <td>{{companyDetails.personalName}}</td>
              </tr>
              <tr>
                <th scope="col">Email <i class="fas fa-envelope"></i></th>
                <td>{{companyDetails.email}}</td>
              </tr>
              <tr>
                <th scope="col">Phone <i class="fas fa-phone"></i></th>
                <td>{{companyDetails.phone}}</td>
              </tr>
              <tr>
                <th scope="col">No of car parks</th>
                <td>{{carparkDetails.noOfCarPark|number}}</td>
              </tr>
              <tr>
                <th scope="col">Area sq.m</th>
                <td>{{totalAreaofCarPark}}</td>
              </tr>
              <tr>
                <th scope="col">Do you have existing EV Charger? <i class="fas fa-charging-station"></i></th>
                <td>{{routingBooleanToYesNoStringConverter(carparkDetails.carChargerDetails.isCarChargerAvailable)}}</td>
              </tr>
              <tr [hidden]="!carparkDetails.carChargerDetails.isCarChargerAvailable">
                <th scope="col">No of car chargers </th>
                <td>{{carparkDetails.carChargerDetails.noOfCarCharger}}</td>
              </tr>
              <tr>
                <th scope="col">Do you have existing parking structure?</th>
                <td>{{routingBooleanToYesNoStringConverter(carparkDetails.structure)}}</td>
              </tr>
              <tr>
                <th scope="col">Price of electricity per kWh <i class="fas fa-euro-sign"></i></th>
                <td>{{carparkDetails.electricityPrice}}</td>
              </tr>
              <tr>
                <th scope="col">Address <i class="fas fa-map-marked-alt"></i></th>
                <td>{{mapDetails.mapAddress}}</td>
              <tr>
                <th scope="col">Latitude</th>
                <td>{{mapDetails.latitude| number:'1.0-4'}}</td>
              </tr>
              <tr>
                <th scope="col">Longitude</th>
                <td>{{mapDetails.longitude| number:'1.0-4'}}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <label *ngIf="showResults" >Here is what your green car port will provide.</label>

        <!--No if because chart load error-->
        <canvas class="chart chart-line" id="charts"></canvas>
        <br/>
        <div class="text-center" *ngIf="showResults">
          <table class="table">

            <tbody>
              <tr>
                <th scope="col">No of Solar Panels that can can be installed <i class="fas fa-solar-panel"></i></th>
                <td>{{solarPanelNeeded | number}}</td>
              </tr>
              <tr>
                <th scope="col"> Total Energy Produced kWh <i class="fas fa-bolt"></i></th>
                <td>{{totalEnergy|number}}</td>
              </tr>
              <tr>
                <th scope="col">Number of EV that can be charged* <i class="fas fa-charging-station"></i></th>
                <td>{{totalEvCharged|number}}</td>
              </tr>

            </tbody>
          </table>


          <!--<table class="table" style="width:100%">
    <tbody>
      <tr>-->
          <!--<td class="animated infinite slideInLeft" *ngFor="let car of EvChargedLoop"><img src="/car_small.png" /> </td>-->
          <!--</tr>
      </tbody>
    </table>-->
          <div class="container-fluid">
            <div class="row">
              <div class="col-xs-4 col-sm-2 col" *ngFor="let car of EvChargedLoop" style="align-content:center">
                <p style="position:absolute; color:forestgreen; margin-left: auto; margin-right: auto; left: 0; right: 15px;">{{car}}</p>
                <img src="/car_small_2.png" />
              </div>
            </div>
          </div>

          <table class="table">
            <tbody>
              <tr>
                <th scope="col"> Total kms driven in a year <i class="fas fa-road"></i></th>
                <td>{{totalKms|number}}</td>
              </tr>
              <tr>
                <th scope="col">Profit from energy Produced <i class="fas fa-euro-sign"></i></th>
                <td><i class="fas fa-euro-sign"></i>{{profit |number}}</td>
              </tr>
            </tbody>
          </table>
          <p>*Driving an average of 15000kms per year </p>

          <!--<table class="table">
        <tbody>
          <tr class="d-flex">

            <td *ngFor="let car of EvChargedLoop" colspan="2" style="position:relative;"><p style="position:absolute; left:25px; color:forestgreen">{{car}}</p><img class="img-fluid" src="/car_small_2.png" /> </td>
          </tr>
        </tbody>
      </table>
    </div>-->
          <!--<p><img class="animated infinite slideInLeft" *ngFor="let car of EvChargedLoop" src="/car_small.png" /></p>-->
          <!--<h4 class="head text-center" [hidden]="!mapDetailsForm.valid">{{successMessage
    }}</h4>-->
          <!--<button class="btn btn-success btn-outline-rounded btn-info" [disabled]="!mapDetailsForm.valid"
                (click)="goToNext(mapDetailsForm)">
      Download Quotation <span style="margin-left: 10px;" class="glyphicon glyphicon-download-alt"></span>
    </button-->
        </div>
      </div>
    </div>
  </div>

